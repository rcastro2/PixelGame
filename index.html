<html>
  <head>
    <style>
      #game div{
        border-radius:50%;
        float:left;
      }
      #game{
        background-color:#600;
      }
    </style>

    <script src="hero.js"></script>
    <script src="enemy.js"></script>
    <script src="board.js"></script>
    <script src="alphabet.js"></script>
    <script>
      function init(){
        board.init();
        board.setObstacles();
        update();
      }
      var pause = false;
      var score = 0;
      function update(){
        if(!pause){
          board.clear();
          hero.move();
          for(var i = 0; i < obstacles.length; i++){
            obstacles[i].move();
            if(hero.collidedWith(obstacles[i])){
              hero.dead = true;
            }
            if(obstacles[i].y > board.rows){
              obstacles[i].dead = true;
              score += obstacles[i].size * 10;
            }
          }
          board.displayText("SCORE:" + score,2,2,"yellow");
        }
        if(hero.dead){
          var gx = Math.floor((board.columns - 36 + 1)/2);
          var gy = Math.floor((board.rows - 4 + 1)/2);
          board.displayText("GAME OVER",gx,gy,"orange");
        }
        else{
          setTimeout(function(){update();},10);
        }
      }
    </script>
  </head>
  <body>
    <button onclick="pause = !pause;">Pause</button>
    <div id="game"></div>
    <script>
      window.onload = init();
      window.onkeydown = function(e){
        hero.processKeys(e.keyCode,"down");
      };
      window.onkeyup = function(e){
        hero.processKeys(e.keyCode,"up");
      };
    </script>


  </body>
</html>
